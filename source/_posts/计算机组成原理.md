---
title: 计算机组成原理
date: 2023-09-20 09:45:07
tags: ComputerScience
description: The key record of computer composition and principle. 
---
#### 第一章
计算机可以分成两个部分：硬件和软件。
软件的话，又分为**系统软件**和**应用软件**两种。

下层是硬件，硬件进行了相对的封装，它对软件提供了接口，比如说提供了指令集，软件可以利用这些指令集，编写完成一定功能的软件。

最早出现的语言是 **机器语言**(是由 01 代码构成的)，为了简化记忆，人们提出了汇编代码，符号化。汇编语言和机器语言之间一般是一一对应的，也就是一条汇编语言指令对应一条机器语言指令。

{%asset_img 语言发展.png%}  

##### 冯诺伊曼计算机
冯诺依曼也被称为现代计算机之父。

###### EDVAC
EDVAC(Electronic Discrete Variable Automatic Computer)是计算机科学史上一台著名的计算机，是早期计算机发展中的一个里程碑。下面是它的一些特点：
1. 存储程序。是世界上第一台真正的**存储程序计算机**。这意味着它可以存储和执行在存储器中的程序，而不仅仅是执行预先固定在硬件中的计算任务。**这一概念成为现代计算机架构的基础**
2. 二进制表示。EDVAC 使用了二进制表示法来处理数据和指令。
3. 使用了冯诺伊曼体系结构
4. 高度可编程。EDVAC的可编程性使得它可以执行各种计算任务，而不仅仅是用于特定目的的计算。

而ENIAC是一台**固定程序计算机**，它的计算任务是**通过物理重新连接电路来更改的**，而不是通过存储在内存中的程序。这使得ENIAC的重新配置非常耗时和繁琐，限制了它的通用性。

###### **冯诺依曼结构特点：**
1. 计算机由五大部件组成。
2. 指令和数据以同等地位存储在存储器，可按地址访问。
3. 指令和数据都是二进制表示。
4. 指令由操作码和地址码组成，操作码就是表明这条指令干什么，地址码指明了**操作数在哪里**。
5. **存储程序。程序存储在存储器中(核心特征)。**
6. 以运算器为中心。

{%asset_img 冯诺伊曼计算机硬件框架.png%}

###### **冯诺依曼结构的问题：**
1. TODO

ALU 和 CU 合成了 CPU
存储器又被分为了 主存和辅存
CPU 和存储器构成了我们的主机(也就是运算器、存储器、控制器构成了我们的主机)

##### 存储器的基本组成

存储单元：存放一串二进制代码。存储单元构成存储体。
存储字：在存储单元中存放的二进制代码组合。
存储字长：存储单元中二进制代码的位数。

{%asset_img 存储器组成.png%}

MAR 存储器地址寄存器，反应存储器的个数。这个寄存器的长度和存储单元的个数相关。
MDR 保存了要保存到存储体中的数据或者是刚刚从存储器中取出来的数据。所以，这个寄存器的长度是存储单元的长度。

##### 运算器基本组成及操作
{%asset_img 运算器基本组成及操作.png%}
加法的操作过程
初态 ACC 中保存了被减数和被加数
下一个操作就是把内存单元中的内容 M 放入寄存器 X

{%asset_img 乘法操作.png%}

{%asset_img 除法操作.png%}

##### 控制器基本结构

{%asset_img 控制器结构.png%}
IR 中也就是指令的操作码，其中核心是 CU，来执行指令。

##### 主机
运算器、存储器、控制器构成了主机。
将上面我们各自讲解的结构组合在一起，就得到了 **主机的架构**。
{%asset_img 主机架构.png%}

对于取数操作：
1. 先获得取数指令。PC 中存储的是指令地址，传到 MAR，在内存单元中获得指令，然后将指令传到 MDR，再传给
IR(IR 中存储的是指令信息)。
2. IR 中拿到了指令，再交给 CU 对于指令进行分析。对于操作码分析是取数，将地址码传递到 MAR，在内存单元中寻找获得数值，然后传递给 MDR，再传递给 ACC(累加器)，完成取数操作。

#### 第二章
这一章不是很重要。

#### 第三章

##### 总线的基本概念

为了解决分散连接的**不易扩展性**，我们采取了**总线**(bus)来连接各个部件的信息传出线，是各个部件共享的传输介质。总线的英文就是 BUS 其实很生动形象了。

传输方式有**串行和并行**两种。但是并行传输的话，线和线之间会有干扰，所以如果传输距离比较长的话信息会不准确。所以，对于并行传输一般仅用于距离较短的传输。

##### 总线的结构
总线的结构有单总线、面向 CPU 的双总线和面向存储器的双总线

总线是信号的公共传输线。在任意时刻只能有一个部件来使用总线，对于单总线，会成为我们系统的一个瓶颈。
{%asset_img 单总线结构.png%}

为了改进这种问题，我们提出了 **面向 CPU 的双总线结构**。
容易看出，这种总线主存和I/O设备交互的时候，CPU执行任务还是会打断，所以我们提出了 **面向存储器的总线结构**。
{%asset_img 面向CPU的总线结构.png%}

面向存储器的总线结构：
{%asset_img 以存储器为中心的总线结构.png%}

##### 总线的分类
按照不同分类标准总线可以分为好多中。
如果按照在计算机内部的位置来分类有两大种：
1. 片内总线。芯片内部的总线
2. 系统总线。计算机各部件之间的信息传输线
系统总线又可以分为：数据总线、地址总线、控制总线

##### 总线特性及指标
总线要想进行有效的连接，必须满足一些特性。
{%asset_img 总线特性.png%}

##### 总线的性能指标
1. 总线宽度
2. 标准传输律：每秒传输的最大字节
3. 时钟同步
4. 总线复用 地址线和数据线共用。为什么复用？主要是为了减少芯片的管脚数，芯片的管脚数越少，芯片的封装性越好。
5. 信号线数 地址线、数据线和控制线的总和。

##### 总线的控制

#### 第四章

##### 存储器的分类

标准很多，所以分类也很多。
1. 按照介质分类
    半导体存储器 TTL MOS    易失
    磁表面存储器 磁头、载磁体
    磁芯存储器
    光盘存储器
2. 按照存取方式分类
    存取时间和物理地址无关(随机访问)
    存取时间和物理地址有关(串行访问) 如磁带、磁带
3. 按照在计算机种的作用分类

高速缓冲存储器 (Cache) 是在 CPU 与 主存之间的一块存储器。

##### 存储器的层次结构
{%asset_img 存储器层次.png%}

主存和辅存之间通过软硬件相结合的方式连接在一起。他俩连接在一起如何定位存储地址呢？我们使用的是虚拟地址，就是我们以我们比较好理解的形式来写地址，比如 `0x7fff` 但是在执行的时候是有特定的机构去**将虚拟地址转换为内存单元种的地址。**

##### 主存储器

###### 主存储器的地址分配

高位字节地址为字地址称为「大端、大尾方式」
低位字节地址为字地址称为「小端、小尾方式」
这两种方式都有机器使用，但是这样的话两种机器进行通讯就会出现问题。

###### 主存的技术指标

主要是速度和容量两个方面。

##### 半导体存储芯片

CS Chip Select   选择芯片
CE Chip Enable   芯片使能，和 CS 功能一样
WE Write Enable  允许写入
OE Output Enable 允许输出
WR Write         允许写入的另一个形式?  
上面的一般都是低电位有效。

Column Address Select CAS 列选
Row Address Select RAS 行选
latency time 延迟时间


双稳态触发器
珊极

###### 随机存取存储器

有静态的和动态的。

动态 RAM 是利用电容存储电荷的方式来存储信息的。 
如果不对于动态 RAM 进行刷新，电容就会漏电，原来内部保存的 1 就会变成 0。动态 RAM 的刷新与行地址有关。

动态 RAM 和静态 RAM 比价：
{%asset_img 动态RAM和静态RAM比较.png%}

DRAM 一般用来做主存，SRAM 一般用来做缓存

最初的 ROM 芯片是固定的，数据在制造时被写入并且无法更改。即使后来出现了 EPROM(Erasable Programmable Read-Only Memory) EEPROM(Electrically Erasable Programmable Read-Only Memory) 和闪存，这种可擦除可编程的，也仍然用 ROM 来称呼他们。EPROM 使用紫外线来擦除，后者 EEPROM 使用电子来擦除。

##### 存储器和 CPU 的连接

存储器的两种扩展：位扩展(增加存储字长)和字扩展(增加存储字的数量)
{%asset_img 位扩展.png%}
其中字扩展是使用地址线最高位 是 1 或者是 0 来作为片选器(CS)
{%asset_img 字扩展.png%}

还有字和位同时扩展：
{%asset_img 字和位扩展.png%}

MREQ 通常是计算机领域用来表示内存请求信号的缩写，其全称是 "Memory Request"。这个信号通常用于微处理器（CPU）与计算机系统中的内存之间的通信，以请求对内存进行读取或写入操作。
当 CPU 需要访问内存中的数据或指令时，它会生成 MREQ 信号，该信号将传递给内存控制器或内存子系统。内存控制器将根据 MREQ 信号执行相应的操作，例如读取请求时，将数据从内存中读取并提供给 CPU，或者写入请求时，将数据写入内存。**一般是低电平是存储器，高电平时访问IO**



#### 扩展

计算机的多样性：
{%asset_img 计算机的多样性.png%}

HPC 是 `High-Performance-Computer` 的简称，一般指一些超级计算机。

MPI 消息传递接口 `Messag Passing Interface` 服务程序通常是指在高性能计算 (HPC) 环境中使用的一种通信库或协议，用于在分布式计算集群中的不同节点之间进行通信和数据交换(毕竟程序之间的并行运算必须有数据信息的交互)。

控制器负责译码。