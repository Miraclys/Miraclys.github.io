---
title: 规划论模型
date: 2023-08-26 10:42:15
tags: Mathematic
description: The key record of mathematical modeling. 
mathjax: true
---
规划论模型也成为运筹与优化模型，在实际问题的建模中应用最为广泛，涉及面较广。

#### 线性规划
通常对于只有两个决策变量的情形，可以使用图解法加以求解。而对于大于两个决策变量的情形，需要借助单纯形方法加以求解。单纯形方法的基本思想是迭代思想的一种体现。首先找到初始可行解，并通过迭代逐步从可行域的一个顶点走向另一个顶点，最终走到最优解。
{%asset_img linprog.png%}
下面的例题：
{%asset_img problem1.jpg%}
其中，求 max，所以我们把 z 的系数取反。第二个不等式是大于等于，我们也同样取反。
```
f = [-1; -2; 3];
A = [3 2 1; -4 -7 6];
b = [6; -8];
Aeq = [2 1 5];
beq = [4];
vlb = [0; 0; 0];
vub= [];
[x, fval] = linprog(f, A, b, Aeq, beq, vlb, vub)
```
##### 运输问题
较为常见的运输模型叙述如下：
> 某物资有 m 个原产地 $A_i$，产量为 $a_i$；有 n 个销地 $B_j$，销量关系为 $b_j$，从 $A_i$ 到 $B_j$ 之间的单位物资运价为 $d_{ij}$，则产销平衡时有 $\sum\limits_{i = 1}^{m}a_i = \sum\limits_{j = 1}^{n} b_j$


##### 多目标规划问题
在建立优化模型时有时追求的目标可能是多个，无论忽略其中的哪个因素可能都会降低优化结果的可信度。对于这类问题通常有下面的三种处理方式：
1. 为每个目标设置重要性权重。
    当存在 n 个目标时，首先对目标函数进行归一化处理（就是消除量纲的影响，进行标准统一）后分别设置自己的权重，假设第 i 个目标的权重为 $\alpha_i$，目标取值为 $M_i$，则可以建立下面的优化模型：$\max \alpha_1M_1 + \alpha_2M_2 + ... + \alpha_nM_n$
2. 为各种目标设定优先权，并将模型转化为多个优化模型。
3. 分别求得个目标的最优值后，将主要目标设定为目标函数，而将次要目标适当调整后修改为约束条件。

#### 适度指标的线性处理
适度指标是指该指标的他正是数据大了或者小了均不好，要充分地接近于某一事先给定的标准指标，比如水的 PH 值。
求 $\min |x - D|$，D 为数据指标的理想取值。
例题：
一个富豪准备拿 10 万元买股票。经过他的筛选，有三种候选投资股票。这三种股票的价格、收益率以及风险系数如表所示：
{%asset_img 股票.png%}
这是一个多规划问题，我们如果直接列两个不等式的话，可能存在无解的情况。所以我们可以采取上面所说的方法2，建立如下的两个不等式条件：
{%asset_img 等式.png%}
如果我们优先考虑投资的风险，就可以建立下面的线性规划模型：
{%asset_img 模型.png%}
```
clear all
Aeq = [1 3 5 1 -1 0 0; 2 5 8 0 0 1 -1; 10 20 30 0 0 0 0];
beq = [15000; 25000; 100000];
f = zeros(7, 1);
f(5) = 1;
vlb = zeros(7, 1);
vub = [];
a = [];
b = [];
[x, y] = linprog(f, a, b, Aeq, beq, vlb, vub);
fx = x(1) + 3 * x(2) + 5 * x(3)
lr = 2 * x(1) + 5 * x(2) + 8 * x(3)
```

#### 整数规划
在线性规划模型中，如果各个决策变量的取值均为整数，则称此类模型为整数规划模型。
整数规划的解法主要有穷举法(变量维数较高时不可行)、舍入凑整法、分支定界法(比较可行)、割平面法(比较可行)等。
1. 舍入凑整法
    感觉很是玄学，就是假装没有整数约束，求解出最优解后每个变量往下或者上取整比较一下。
2. 分支界定法
    如果不满足整数条件，任选一个不满足整数条件的变量来构造新的约束，在原可行域中剔除部分非整数解。然后，再在缩小的可行域中求解新构造的线性规划的最优解（好抽象）。
    步骤：
    1. 解没有整数约束的问题。
    2. 定界
    3. 分支
    4. 修改上下界
    5. 比较与剪枝

##### 0-1 型整数规划
约束条件为 $0 \leq x_i \leq 1,x_i$ 为整数。这样就和一般的整数规划问题统一了。 

{%asset_img 整数规划.png 整数规划求解函数%}
实例：
```
f = [-3; 2; -5];
intcon = [1, 2, 3]; % 表示哪几个变量为整数
A = [1 2 -1; 1 4 1; 1 1 0; 4 0 1];
b = [2; 4; 3; 6];
Aeq = [];
beq = [];
lb = [0; 0; 0]; % 如果下界为 0 上界为 1，其实就是 0-1 整数规划了。
rb = [1; 1; 1];
[x, val] = intlinprog(f, intcon, A, b, Aeq, beq, lb, rb)
```

##### 指派问题
{%asset_img 指派问题.png 指派问题%}
当人数和任务的个数不同的时候，会出现某些人没有任务可做或者某些任务无人完成的情况。出现这两种情况的时候只需将约束条件中的某一个等于 1 的约束条件修改为小于等于 1 即可。有时也可以一对多（一个人多任务，一个任务多个人）。
2013 年碎纸片拼接复原问题 1：
```
cell{1,1}=imread('000.bmp');
cell{1,2}=imread('001.bmp');
cell{1,3}=imread('002.bmp');
cell{1,4}=imread('003.bmp');
cell{1,5}=imread('004.bmp');
cell{1,6}=imread('005.bmp');
cell{1,7}=imread('006.bmp');
cell{1,8}=imread('007.bmp');
cell{1,9}=imread('008.bmp');
cell{1,10}=imread('009.bmp');
cell{1,11}=imread('010.bmp');
cell{1,12}=imread('011.bmp');
cell{1,13}=imread('012.bmp');
cell{1,14}=imread('013.bmp');
cell{1,15}=imread('014.bmp');
cell{1,16}=imread('015.bmp');
cell{1,17}=imread('016.bmp');
cell{1,18}=imread('017.bmp');
cell{1,19}=imread('018.bmp');

for i=1:19
level=graythresh(cell{1,i});%选择灰度阈值
cell1{1,i}=im2bw(cell{1,i},level); %将图像二值化
end

for i=1:19                %循环19个图像
    for k=1:19
        xs(i,k)=0;
        for j=1:1980
            if (cell1{1,i}(j,72)==cell1{1,k}(j,1))%判断图像的边缘信息特征，求相似度矩阵
                xs(i,k)=1+xs(i,k);
            end
        end
    end
end

for i=1:19
    xs(i,i)
end

for i=1:19 
da(i)=max(xs(i,:));
end
wei=find(da==max(da));for i=1:19
    k=find(xs(i,[1:19])==da(i));  %求两两相邻的矩阵
    lian(i,1)=i;                  %前面一个
    lian(i,2)=k;                  %后面一个
end
lian(wei,1)=0;
tou=lian(wei,2);
xu(1)=tou;
for i=1:18
    xu(i+1)=lian(xu(i),2);        %正确的排列顺序
end
%根据排出来顺序xu画图
for i=1:19
I(:,[72*(i-1)+1:72*i])=cell{1,xu(i)};   %图像的整合
end

imwrite(I,'hanzi.jpg','quality',100);
imshow('hanzi.jpg')          %输出图像

```

##### 选址问题
集合覆盖选址模型和最大覆盖选址模型。
